%%% Template originaly created by Karol Kozio≈Ç (mail@karol-koziol.net) and modified for ShareLaTeX use

\documentclass[a4paper,11pt]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{tikz}
\usepackage[force,almostfull]{textcomp}
\usepackage{geometry}

\geometry{total={210mm,297mm},
left=25mm,right=25mm,%
bindingoffset=0mm, top=20mm,bottom=20mm}

\renewcommand{\thesubsubsection}{\thesubsection.\alph{subsubsection}}

\renewcommand*\sfdefault{phv}
\renewcommand\familydefault{\sfdefault}

\newcommand*{\TitleFont}{%
      \usefont{\encodingdefault}{\rmdefault}{b}{n}%
      \fontsize{16}{20}%
      \selectfont}


\linespread{1.3}

\newcommand{\linia}{\rule{\linewidth}{0.5pt}}

% custom theorems if needed
\newtheoremstyle{mytheor}
    {1ex}{1ex}{\normalfont}{0pt}{\scshape}{.}{1ex}
    {{\thmname{#1 }}{\thmnumber{#2}}{\thmnote{ (#3)}}}

\theoremstyle{mytheor}
\newtheorem{defi}{Definition}

% my own titles
\makeatletter
\renewcommand{\maketitle}{
\begin{center}
\vspace{2ex}
{\huge \textsc{\@title}}
\vspace{1ex}
\\
\linia\\
\@author \hfill \@date
\vspace{4ex}
\end{center}
}
\makeatother
%%%

% custom footers and headers
\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{}
\lfoot{Assignment 6 : MTA(1) }
\cfoot{}
\rfoot{Page \thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
%

% code listing settings
\usepackage{listings}
\lstset{
    language=Bash,
    basicstyle=\ttfamily\small,
    aboveskip={1.0\baselineskip},
    belowskip={1.0\baselineskip},
    columns=fixed,
    extendedchars=true,
    breaklines=true,
    tabsize=4,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=lines,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    keywordstyle=\color[rgb]{0.627,0.126,0.941},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{01,0,0},
    numbers=left,
    numberstyle=\small,
    stepnumber=1,
    numbersep=10pt,
    captionpos=t,
    escapeinside={\%*}{*)}
}

%%%----------%%%----------%%%----------%%%----------%%%

\begin{document}

\title{\TitleFont Assignment 6 : MTA(1) }

\author{Emil Sharifulllin(G3, \#3), Innopolis University}

\date{\today}

\maketitle

\section{Mail Tranfer Agents}
As a MTA I chose Postfix.

\subsection{Installing MTA}

\subsubsection{Deleteing pre installed MTA}
I working with ubuntu docker container. To be sure that this system wasn't contain preinstalled MTA I ran following commands:

\begin{lstlisting}
$ dpkg --get-selections | grep postfix
$ dpkg --get-selections | grep sendmail
$ dpkg --get-selections | grep exim

\end{lstlisting}

\subsubsection{Package downloading}
Firstly it is needed to download tarball, signature and public key

\begin{lstlisting}
$ wget http://mirror.lhsolutions.nl/postfix-release/official/postfix-3.1.2.tar.gz
$ wget http://mirror.lhsolutions.nl/postfix-release/official/postfix-3.1.2.tar.gz.gpg2
$ wget http://mirror.lhsolutions.nl/postfix-release/wietse.pgp
\end{lstlisting}

\subsubsection{Package verification}

We must to verify tarbal.
\begin{lstlisting}
$ gpg -v --import wietse.pgp
$ gpg --verify postfix-3.1.2.tar.gz.gpg2 postfix-3.1.2.tar.gz
gpg: Signature made Sat Aug 27 23:56:24 2016 UTC using DSA key ID 80CA15A7
gpg: Good signature from "Wietse Venema <wietse@porcupine.org>"
\end{lstlisting}

\subsubsection{Installation}
To install package firstly unpack it. After unpacking we need to configure building.

\begin{lstlisting}
$ tar -xzvf postfix-3.1.2.tar.gz
$ cd postfix-3.1.2
$ make -f Makefile.init makefiles
$ make tidy
$ make makefiles shared=yes dynamicmaps=yes pie=no
\end{lstlisting}
Here used three compiling options:
\begin{itemize}
    \item \textbf{shared=yes} to allow Postfix use shared libraries
    \item \textbf{dynamicmaps=yes} improve database-plugin support
    \item \textbf{pie=no} deny Position-Independent Executables, that can be used for ASLR exploit mitigation technique
\end{itemize}

\subsection{Configuring}


\end{document}
